{
    "sourceFile": "components/leads/kanban-card.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1741293309363,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1741293374186,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,8 +60,11 @@\n     ) {\n       return;\n     }\n     \n+    // Add console log for debugging\n+    console.log('Card clicked, navigating to:', `/dashboard/leads/${lead.id}`);\n+    \n     // Navigate to lead detail page\n     router.push(`/dashboard/leads/${lead.id}`);\n   };\n \n"
                }
            ],
            "date": 1741293309363,
            "name": "Commit-0",
            "content": "\"use client\";\n\nimport { useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { useRouter } from 'next/navigation';\nimport { \n  Mail, \n  Phone, \n  MoreHorizontal, \n  Calendar,\n  Building2,\n  DollarSign,\n  Clock\n} from 'lucide-react';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\n\ninterface Lead {\n  id: number;\n  name: string;\n  company: string;\n  email: string;\n  phone: string;\n  status: string;\n  value: string;\n}\n\ninterface KanbanCardProps {\n  id: string;\n  lead: Lead;\n  columnColor: string;\n}\n\nexport function KanbanCard({ id, lead, columnColor }: KanbanCardProps) {\n  const router = useRouter();\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({ id });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n\n  const handleCardClick = (e: React.MouseEvent) => {\n    // Prevent navigation when clicking on interactive elements\n    if (\n      e.target instanceof HTMLElement && \n      (e.target.closest('button') || e.target.closest('[role=\"menuitem\"]'))\n    ) {\n      return;\n    }\n    \n    // Navigate to lead detail page\n    router.push(`/dashboard/leads/${lead.id}`);\n  };\n\n  const handleEmailClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    window.location.href = `mailto:${lead.email}`;\n  };\n\n  const handlePhoneClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    window.location.href = `tel:${lead.phone}`;\n  };\n\n  return (\n    <Card\n      ref={setNodeRef}\n      style={style}\n      className=\"p-4 bg-card hover:shadow-md transition-shadow border border-slate-200 cursor-pointer select-none\"\n      onClick={handleCardClick}\n      {...attributes}\n      {...listeners}\n    >\n      <div className=\"flex justify-between items-start mb-3\">\n        <div className=\"flex-1\">\n          <h4 className=\"font-medium text-base mb-1\">{lead.name}</h4>\n          <div className=\"flex items-center text-sm text-muted-foreground\">\n            <Building2 className=\"w-4 h-4 mr-1\" />\n            {lead.company}\n          </div>\n        </div>\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild onClick={(e) => e.stopPropagation()}>\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n              <MoreHorizontal className=\"h-4 w-4\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            <DropdownMenuItem onClick={() => router.push(`/dashboard/leads/${lead.id}`)}>\n              View Details\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => router.push(`/dashboard/leads/${lead.id}?edit=true`)}>\n              Edit Lead\n            </DropdownMenuItem>\n            <DropdownMenuItem className=\"text-red-600\">Delete</DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n      \n      <div className=\"flex items-center space-x-2 mb-3\">\n        <Button \n          variant=\"ghost\" \n          size=\"icon\" \n          className=\"h-8 w-8 hover:bg-slate-100\"\n          title={lead.email}\n          onClick={handleEmailClick}\n        >\n          <Mail className=\"h-4 w-4\" />\n        </Button>\n        <Button \n          variant=\"ghost\" \n          size=\"icon\" \n          className=\"h-8 w-8 hover:bg-slate-100\"\n          title={lead.phone}\n          onClick={handlePhoneClick}\n        >\n          <Phone className=\"h-4 w-4\" />\n        </Button>\n      </div>\n\n      <div className=\"flex justify-between items-center text-sm\">\n        <div className=\"flex items-center text-emerald-600 font-medium\">\n          <DollarSign className=\"w-4 h-4 mr-1\" />\n          {lead.value}\n        </div>\n        <div className=\"flex items-center text-muted-foreground\">\n          <Clock className=\"w-4 h-4 mr-1\" />\n          <span>2 days ago</span>\n        </div>\n      </div>\n    </Card>\n  );\n}"
        }
    ]
}